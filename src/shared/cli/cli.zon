.{
    .name = "docz",
    .version = "0.1.0",
    .description = "CLI agent for writing and refining markdown documents",
    .usage_patterns = .{
        "[OPTIONS] [FLAGS] [PROMPT]",
        "auth <SUBCOMMAND>",
    },
    .options = .{
        .{
            .short = 'm',
            .long = "model",
            .type = "string",
            .default = "claude-3-sonnet-20240229",
            .description = "Anthropic model to use for generation",
        },
        .{
            .short = 'o',
            .long = "output",
            .type = "string",
            .description = "Output file path (use '-' for stdout)",
        },
        .{
            .short = 'i',
            .long = "input",
            .type = "string",
            .description = "Input file path (use '-' for stdin)",
        },
        .{
            .short = 's',
            .long = "system",
            .type = "string",
            .description = "Custom system prompt override",
        },
        .{
            .short = 'c',
            .long = "config",
            .type = "string",
            .description = "Path to configuration file",
        },
        .{
            .long = "max-tokens",
            .type = "u32",
            .default = 4096,
            .description = "Maximum tokens for response",
            .short = 'T',
        },
        .{
            .long = "temperature",
            .type = "f32",
            .default = 0.7,
            .description = "Temperature setting (0.0-1.0)",
            .range = .{ .min = 0.0, .max = 1.0 },
            .short = 't',
        },
    },
    .flags = .{
        .{
            .short = 'v',
            .long = "verbose",
            .description = "Enable verbose logging output",
        },
        .{
            .short = 'h',
            .long = "help",
            .description = "Show help message and usage information",
        },
        .{
            .long = "version",
            .description = "Show version information",
            .short = 'V',
        },
        .{
            .long = "stream",
            .default = true,
            .description = "Stream tokens to stdout as they arrive (default)",
            .excludes = .{"no-stream"},
            .short = 'S',
        },
        // Preferred negative form per CLI guidelines
        .{
            .long = "no-stream",
            .description = "Disable streaming; print only the complete response",
            .excludes = .{"stream"},
        },
        .{
            .long = "pretty",
            .description = "Pretty-print JSON responses and debug output",
            .short = 'p',
        },
        .{
            .long = "debug",
            .description = "Enable debug mode with detailed logging",
            .short = 'd',
        },
        .{
            .long = "interactive",
            .description = "Run in interactive mode for multi-turn conversations",
            .short = 'I',
        },
        .{
            .long = "interactive-help",
            .description = "Show detailed help for interactive mode features",
        },
        .{
            .long = "continue-session",
            .description = "Continue from a previous interactive session",
        },
        .{
            .long = "tui",
            .type = "string",
            .description = "TUI mode: rich, basic, auto, or none",
            .default = "auto",
        },
        .{
            .long = "dashboard",
            .description = "Enable interactive dashboard with statistics",
            .short = 'd',
        },
        .{
            .long = "no-progress",
            .description = "Disable progress indicators for long operations",
        },
        .{
            .long = "auth",
            .description = "Setup or configure authentication",
        },
        .{
            .long = "preview",
            .description = "Launch interactive markdown preview and editor",
            .short = 'p',
        },
        .{
            .long = "setup-auth",
            .description = "Interactive authentication setup wizard",
        },
        .{
            .long = "force-oauth",
            .description = "Force OAuth setup even if already configured",
        },
        .{
            .long = "session-title",
            .type = "string",
            .description = "Set custom title for interactive session",
        },
        .{
            .long = "save-session",
            .type = "string",
            .description = "Save interactive session to specified file",
        },
    },
    .positionals = .{
        .{
            .meta = .COMMAND,
            .type = "string",
            .description = "Command to run (auth or chat prompt)",
        },
    },
    .subcommands = .{
        .auth = .{
            .description = "Authentication management commands",
            .subcommands = .{
                .login = "Setup OAuth authentication with Claude Pro/Max",
                .status = "Show current authentication status",
                .refresh = "Refresh OAuth tokens if available",
            },
        },
    },
    .examples = .{
        .{ .command = "\"What is 2+2?\"", .description = "Chat with Claude" },
        .{ .command = "auth login", .description = "Setup OAuth" },
        .{ .command = "auth status", .description = "Check auth status" },
        .{ .command = "tui-demo", .description = "Run TUI demonstration" },
        .{ .command = "--help", .description = "Show this help" },
        .{ .command = "-m claude-3-5-sonnet-20241022 \"Explain quantum physics\"", .description = "Use specific model" },
        .{ .command = "-i input.md -o output.md", .description = "Process file input/output" },
        .{ .command = "--interactive", .description = "Start interactive mode" },
        .{ .command = "--interactive --tui=rich --dashboard", .description = "Rich TUI with dashboard" },
        .{ .command = "--interactive-help", .description = "Show interactive mode help" },
        .{ .command = "--auth", .description = "Setup authentication" },
        .{ .command = "--preview document.md", .description = "Launch interactive markdown editor" },
    },
}
